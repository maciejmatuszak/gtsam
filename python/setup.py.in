from setuptools import setup
import os.path as pth
import sys

site_packages_relative: str = None
try:
      from distutils import sysconfig_get_python_lib
      site_packages_relative = pth.relpath(sysconfig_get_python_lib(), sys.prefix)
except:
      pass
if site_packages_relative is None:

      try:
            from distutils.sysconfig import get_python_lib
            site_packages_relative = pth.relpath(get_python_lib(), sys.prefix)
      except:
            pass

setup(name='gtsam',
      version='${GTSAM_VERSION_STRING}',
      description='GTSAM Python wrapper',
      license = "BSD",
      author='Frank Dellaert et. al',
      author_email='frank.dellaert@gatech.edu',
      maintainer_email='gtsam@lists.gatech.edu',
      url='https://collab.cc.gatech.edu/borg/gtsam',
      package_dir={ '': '${CMAKE_CURRENT_SOURCE_DIR}' },
      packages=['gtsam', 'gtsam_utils', 'gtsam_examples', 'gtsam_tests'],
      #package_data={'gtsam' : ['_libgtsam_python.so']},  # location of .so file is relative to package_dir
      data_files=[(site_packages_relative + '/gtsam', ['gtsam/_gtsampy.so'])],  # location of .so file relative to setup.py
     )
